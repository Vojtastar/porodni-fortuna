<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 500px;
  margin: 40px auto;
  background-color: #f0fff0;
  padding: 20px;
  border-radius: 12px;
}
input, button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
}
button {
  background: #2e7d32;
  color: white;
  border: none;
  cursor: pointer;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
}
th, td {
  border: 1px solid #2e7d32;
  padding: 6px;
  text-align: center;
}
</style>

<!-- ğŸ”¥ Firebase COMPAT SDK (funguje na GitHub Pages) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

</head>
<body>

<h2>PorodnÃ­ Fortuna ğŸ€</h2>
<title>PorodnÃ­ Fortuna ğŸ€</title>
<p>
MilÃ­ kamarÃ¡di a rodino! ğŸ‰<br><br>

Zveme vÃ¡s, abyste si vsadili na <strong>datum porodu</strong> a
<strong>tipovanÃ© jmÃ©no naÅ¡eho miminka</strong>. ğŸ‘¶ğŸ’š<br><br>

Vyberte datum mezi <strong>7. 2. 2026</strong> a <strong>28. 2. 2026</strong>,
napiÅ¡te svÃ© jmÃ©no a tipovanÃ© jmÃ©no miminka a uloÅ¾te svÅ¯j tip.<br><br>

VÃ½herce bude odmÄ›nÄ›n lÃ¡hvÃ­ <strong>alkomoku</strong>! ğŸ¾ğŸ¥‚<br><br>

AÅ¥ se zelenÃ¡ âœ…ğŸ“ˆğŸ’šğŸ’–ğŸ€
</p>
<input id="player" placeholder="Tvoje jmÃ©no">
<input id="babyName" placeholder="TipovanÃ© jmÃ©no miminka">
<input id="date" type="date" min="2026-02-07" max="2026-02-28">

<button onclick="saveTip()">UloÅ¾it tip</button>

<h3>VsazenÃ© tipy</h3>
<table>
  <thead>
    <tr>
      <th>JmÃ©no</th>
      <th>JmÃ©no miminka</th>
      <th>Datum</th>
      <th>Akce</th>
    </tr>
  </thead>
  <tbody id="tips"></tbody>
</table>

<script>
/* ğŸ”¥ Firebase konfigurace â€“ projekt fortuna-d5ee6 */
const firebaseConfig = {
  apiKey: "AIzaSyDkwTM9ehny171FTDVeHGjwU6Sq0LERF3A",
  authDomain: "fortuna-d5ee6.firebaseapp.com",
  databaseURL: "https://fortuna-d5ee6-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "fortuna-d5ee6",
  storageBucket: "fortuna-d5ee6.firebasestorage.app",
  messagingSenderId: "668571674793",
  appId: "1:668571674793:web:1d273bbd2995fa86c7e1b8"
};

/* ğŸ”¥ Inicializace Firebase */
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* DOM prvky */
const playerInput = document.getElementById("player");
const babyNameInput = document.getElementById("babyName");
const dateInput = document.getElementById("date");
const tipsTable = document.getElementById("tips");

/* ğŸ’¾ UloÅ¾enÃ­ tipu */
function saveTip() {
  const player = playerInput.value.trim();
  const babyName = babyNameInput.value.trim();
  const date = dateInput.value;

  if (!player || !babyName || !date) {
    alert("VyplÅˆ vÅ¡echna pole");
    return;
  }

  db.ref("tips").push({
    owner: player,
    babyName: babyName,
    date: date
  });

  playerInput.value = "";
  babyNameInput.value = "";
  dateInput.value = "";
}

/* ğŸ“¡ NaÄÃ­tÃ¡nÃ­ tipÅ¯ Å¾ivÄ› */
db.ref("tips").on("value", snapshot => {
  tipsTable.innerHTML = "";
  const data = snapshot.val() || {};

  Object.keys(data).forEach(key => {
    const t = data[key];
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${t.owner}</td>
      <td>${t.babyName}</td>
      <td>${t.date}</td>
      <td><button onclick="deleteTip('${key}')">Smazat</button></td>
    `;

    tipsTable.appendChild(tr);
  });
});

/* âŒ SmazÃ¡nÃ­ tipu */
function deleteTip(key) {
  db.ref("tips/" + key).remove();
}
</script>

</body>
</html>


