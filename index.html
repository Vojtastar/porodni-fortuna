<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Porodn√≠ Fortuna üçÄ</title>

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 500px;
  margin: 40px auto;
  background-color: #f0fff0;
  padding: 20px;
  border-radius: 12px;
}
input, button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
}
button {
  background: #2e7d32;
  color: white;
  border: none;
  cursor: pointer;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
}
th, td {
  border: 1px solid #2e7d32;
  padding: 6px;
  text-align: center;
}
</style>

<!-- üî• Firebase COMPAT SDK (funguje na GitHub Pages) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

</head>
<body>

<h2>Porodn√≠ Fortuna üçÄ</h2>

<input id="player" placeholder="Tvoje jm√©no">
<input id="babyName" placeholder="Tipovan√© jm√©no miminka">
<input id="date" type="date" min="2026-02-07" max="2026-02-28">

<button onclick="saveTip()">Ulo≈æit tip</button>

<h3>Vsazen√© tipy</h3>
<table>
  <thead>
    <tr>
      <th>Jm√©no</th>
      <th>Jm√©no miminka</th>
      <th>Datum</th>
      <th>Akce</th>
    </tr>
  </thead>
  <tbody id="tips"></tbody>
</table>

<script>
/* üî• Firebase konfigurace ‚Äì projekt fortuna-d5ee6 */
const firebaseConfig = {
  apiKey: "AIzaSyDkwTM9ehny171FTDVeHGjwU6Sq0LERF3A",
  authDomain: "fortuna-d5ee6.firebaseapp.com",
  databaseURL: "https://fortuna-d5ee6-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "fortuna-d5ee6",
  storageBucket: "fortuna-d5ee6.firebasestorage.app",
  messagingSenderId: "668571674793",
  appId: "1:668571674793:web:1d273bbd2995fa86c7e1b8"
};

/* üî• Inicializace Firebase */
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* DOM prvky */
const playerInput = document.getElementById("player");
const babyNameInput = document.getElementById("babyName");
const dateInput = document.getElementById("date");
const tipsTable = document.getElementById("tips");

/* üíæ Ulo≈æen√≠ tipu */
function saveTip() {
  const player = playerInput.value.trim();
  const babyName = babyNameInput.value.trim();
  const date = dateInput.value;

  if (!player || !babyName || !date) {
    alert("Vypl≈à v≈°echna pole");
    return;
  }

  db.ref("tips").push({
    owner: player,
    babyName: babyName,
    date: date
  });

  playerInput.value = "";
  babyNameInput.value = "";
  dateInput.value = "";
}

/* üì° Naƒç√≠t√°n√≠ tip≈Ø ≈æivƒõ */
db.ref("tips").on("value", snapshot => {
  tipsTable.innerHTML = "";
  const data = snapshot.val() || {};

  Object.keys(data).forEach(key => {
    const t = data[key];
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${t.owner}</td>
      <td>${t.babyName}</td>
      <td>${t.date}</td>
      <td><button onclick="deleteTip('${key}')">Smazat</button></td>
    `;

    tipsTable.appendChild(tr);
  });
});

/* ‚ùå Smaz√°n√≠ tipu */
function deleteTip(key) {
  db.ref("tips/" + key).remove();
}
</script>

</body>
</html>
